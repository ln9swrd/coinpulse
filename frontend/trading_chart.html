<!--
    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
    ‚ïë  CoinPulse - Professional Cryptocurrency Trading Platform     ‚ïë
    ‚ïë  Copyright ¬© 2024-2025 CoinPulse Development Team            ‚ïë
    ‚ïë  All Rights Reserved.                                         ‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
-->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoinPulse - Professional Trading Chart</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lightweight Charts CDN -->
    <script src="https://unpkg.com/lightweight-charts@4.1.3/dist/lightweight-charts.standalone.production.js"></script>

    <!-- Socket.IO Client CDN (Phase 3 - WebSocket Real-time) -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>

    <!-- WebSocket Client Library (Phase 3) -->
    <script src="js/websocket_client.js?v=20251201_phase3"></script>

    <!-- ÌÜµÌï© CSS ÌååÏùº (Ï†ïÎ¶¨Îê®: Í∑∏Î¶¨Í∏∞ Î™©Î°ù Í∞ÄÏãúÏÑ± Í∞ïÌôî) -->
    <link rel="stylesheet" href="css/integrated.css?v=20251109_coin_image_icons">

    <!-- Ïô∏Î∂Ä JavaScript ÌååÏùº -->
    <script src="js/api_client.js?v=20251220_auto_fixed"></script>
    <script src="js/api_handler.js?v=20251220_auto"></script>

    <!-- Phase 3 Chart Utilities Modules (4 modules split) -->
    <script src="js/utils/chart_manager.js?v=20251113_phase3"></script>
    <script src="js/utils/indicator_calculator.js?v=20251113_phase3"></script>
    <script src="js/utils/indicator_renderer.js?v=20251129_null_fix"></script>
    <script src="js/utils/chart_utilities.js?v=20251113_phase3"></script>

    <!-- Chart Utils Wrapper (integrates Phase 3 modules) -->
    <script src="js/chart_utils.js?v=20251113_phase3_wrapper"></script>

    <!-- Î™®ÎìàÌôîÎêú Í∏∞Îä• ÌååÏùºÎì§ -->
    <script src="js/modules/actions/support_resistance.js?v=20251019_2"></script>
    <script src="js/modules/actions/chart_actions.js?v=20251129_marker_fix">
    <script src="js/modules/indicators/moving_averages.js?v=20251129_ma_validation"></script>
    <script src="js/modules/indicators/technical_indicators.js?v=20251109_korean_signals"></script>
    <script src="js/modules/settings/chart_settings.js?v=20251019_6"></script>
    <script src="js/modules/drawing/drawing_tools.js?v=20251022_14"></script>

    <!-- Analytics Module (DB Statistics) - DISABLED (not needed) -->
    <!-- <script src="js/modules/analytics/analytics_dashboard.js?v=20251112_db"></script> -->

    <!-- Phase 2 Core Modules (Delegation Pattern) -->
    <script src="js/core/data_loader.js?v=20251220_auto"></script>
    <script src="js/core/realtime_updates.js?v=20251129_ma_validation"></script>
    <script src="js/modules/trading/auto_trading_controller.js?v=20251221_api_fixed"></script>

    <!-- Order Interactions Module (must load before main chart) -->
    <script src="js/modules/orders/order_interactions.js?v=20251222"></script>

    <!-- Î©îÏù∏ Ï∞®Ìä∏ ÌååÏùº -->
    <script src="js/trading_chart_working.js?v=20251113_phase2_refactored"></script>

    <!-- Manual Orders Extension -->
    <script src="js/manual_orders.js?v=20251223_token_debug"></script>
</head>
<body>
    <div class="container">
        <!-- Ï≤´ Î≤àÏß∏ Ï§Ñ: ÏΩîÏù∏ÌéÑÏä§ Ìó§Îçî + Ï†ïÏ±Ö ÏÉÅÌÉú -->
        <div class="header-row">
            <div class="coinpulse-header">
                <span class="coinpulse-title">ÏΩîÏù∏ÌéÑÏä§</span>
                <span class="separator">|</span>
                <span class="policy-management">Ìä∏Î†àÏù¥Îî© Ï∞®Ìä∏</span>
            </div>

            <!-- Current Coin Policy Status -->
            <div class="current-policy-status" id="current-policy-status">
                <span class="policy-coin-label" id="policy-coin-label">‚Çø BTC</span>
                <span class="separator">|</span>
                <span class="policy-preset-badge" id="policy-preset-badge">‚ö†Ô∏è Ï†ïÏ±ÖÏóÜÏùå</span>
                <span class="separator">|</span>
                <span class="policy-levels" id="policy-levels">
                    <span class="policy-level-item stop-loss">ÏÜêÏ†à --</span>
                    <span class="policy-level-item take-profit">ÏùµÏ†à --</span>
                </span>
                <span class="separator">|</span>
                <span class="policy-status-indicator" id="policy-status-indicator">
                    <span class="status-dot"></span> ÎπÑÌôúÏÑ±
                </span>
            </div>

            <div class="portfolio-info">
                <span class="separator">|</span>
                <span class="portfolio-stats">
                    Ïû•Í∏∞: <span id="long-term-count">6</span> |
                    Îã®Í∏∞: <span id="short-term-count">9</span> |
                    Ìà¨Ïûê: <span id="investment-count">0/3</span>
                </span>
                <span class="separator">|</span>
                <span class="budget-info">
                    ÏòàÏÇ∞: <span id="budget-amount">400,000</span> Ïõê |
                    ÏàòÏùµÎ•†: <span id="profit-rate">+0.0</span>%
                </span>
            </div>

            <div class="trading-controls">
                <!-- Îã®Í∏∞Ìà¨Ïûê ÏûêÎèôÎß§Îß§ -->
                <div class="trading-mode-group">
                    <label class="trading-mode-label">Îã®Í∏∞Ìà¨Ïûê ÏûêÎèôÎß§Îß§</label>
                    <button class="btn btn-active-mode" id="active-auto-btn">
                        <span class="mode-status" id="active-status">ÎπÑÌôúÏÑ±Ìôî</span>
                    </button>
                </div>

                <!-- ÏûêÎèôÍ±∞Îûò ÏÑ§Ï†ï -->
                <a href="auto_trading_settings.html" style="text-decoration: none;">
                    <button class="btn btn-policy">‚öôÔ∏è ÏûêÎèôÍ±∞Îûò ÏÑ§Ï†ï</button>
                </a>
            </div>
        </div>

        <!-- Îëê Î≤àÏß∏ Ï§Ñ: Ï∞®Ìä∏ ÏÑ§Ï†ï Ïª®Ìä∏Î°§Îßå ÌëúÏãú (Í∞ÄÍ≤©Ï†ïÎ≥¥/Î∂ÑÏÑùÏùÄ Î≥¥Ïú†ÏΩîÏù∏ Ïò§Î•∏Ï™ΩÏúºÎ°ú Ïù¥Îèô) -->

        <!-- ÏÑ∏ Î≤àÏß∏ Ï§Ñ: Ï∞®Ìä∏ ÏÑ§Ï†ï Ïª®Ìä∏Î°§ -->
        <div class="chart-controls-row">
            <div class="chart-settings">
                <div class="group-title">Ï∞®Ìä∏ ÏÑ§Ï†ï</div>
                <div class="settings-container">
                    <div class="setting-group" style="display: none;">
                        <label class="setting-label">Ï∞®Ìä∏:</label>
                        <select class="control-select" id="chart-type">
                            <option value="candlestick">Ï∫îÎì§Ïä§Ìã±</option>
                            <option value="line">ÎùºÏù∏</option>
                            <option value="area">ÏòÅÏó≠</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">ÏãúÍ∞Ñ:</label>
                        <select class="control-select" id="timeframe">
                            <option value="1m">1Î∂Ñ</option>
                            <option value="5m">5Î∂Ñ</option>
                            <option value="15m">15Î∂Ñ</option>
                            <option value="1h">1ÏãúÍ∞Ñ</option>
                            <option value="4h">4ÏãúÍ∞Ñ</option>
                            <option value="1d" selected>ÏùºÎ¥â</option>
                            <option value="1w">Ï£ºÎ¥â</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">ÏΩîÏù∏:</label>
                        <div class="coin-selector-container">
                            <input type="text" class="control-input" id="coin-search" placeholder="ÏΩîÏù∏Î™Ö, ÏòÅÎ¨∏Î™Ö, ÏΩîÎìú Í≤ÄÏÉâ (Ïòà: xrp, ÎπÑÌä∏ÏΩîÏù∏, KRW-BTC)" autocomplete="off">
                            <select class="control-select" id="coin-select">
                                <option value="KRW-BTC" selected>ÎπÑÌä∏ÏΩîÏù∏ (KRW-BTC)</option>
                            </select>
                            <button class="btn btn-small" id="refresh-coins" title="ÏΩîÏù∏ Î™©Î°ù ÏÉàÎ°úÍ≥†Ïπ®">üîÑ</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="indicator-controls">
                <div class="group-title">Í∏∞Ïà†Ï†Å ÏßÄÌëú</div>
                <div class="btn-container">
                    <button class="btn btn-indicator" id="ma-settings-btn">‚öôÔ∏è Ïù¥ÌèâÏÑ†ÏÑ§Ï†ï</button>
                    <button class="btn btn-indicator" id="rsi-toggle">RSI</button>
                    <button class="btn btn-indicator" id="macd-toggle">MACD</button>
                    <button class="btn btn-indicator" id="bollinger-toggle">BB</button>
                    <button class="btn btn-indicator" id="supertrend-toggle">SuperTrend</button>
                </div>
            </div>
            
            <div class="tool-controls">
                <div class="group-title">Í∑∏Î¶¨Í∏∞ ÎèÑÍµ¨ <span style="font-size: 11px; opacity: 0.7; font-weight: normal;">(Ctrl+Z: Undo | Ctrl+Y: Redo)</span></div>
                <div class="btn-container">
                    <button class="btn btn-tool" id="draw-trendline">Ï∂îÏÑ∏ÏÑ†</button>
                    <button class="btn btn-tool" id="draw-fibonacci">ÌîºÎ≥¥ÎÇòÏπò</button>
                    <button class="btn btn-tool" id="draw-horizontal">ÏàòÌèâÏÑ†</button>
                    <button class="btn btn-tool" id="draw-vertical">ÏàòÏßÅÏÑ†</button>
                    <button class="btn btn-tool" id="clear-trendlines">üóëÔ∏è Î™®Îëê ÏßÄÏö∞Í∏∞</button>
                    <button class="btn btn-tool" id="show-drawings">üìã Í∑∏Î¶¨Í∏∞ Î™©Î°ù</button>
                </div>
            </div>
            
            <div class="chart-actions">
                <div class="group-title">Ï∞®Ìä∏ Ïï°ÏÖò</div>
                <div class="btn-container">
                <button class="btn btn-action" id="theme-toggle">üåô ÌÖåÎßà</button>
                <button class="btn btn-action" id="support-resistance-toggle">ÏßÄÏßÄÏ†ÄÌï≠ÏÑ†</button>
                <button class="btn btn-action" id="ma-toggle">Ïù¥ÌèâÏÑ†</button>
                <button class="btn btn-action active" id="trade-markers-toggle">üìç Îß§Îß§ÎßàÏª§</button>
                <button class="btn btn-action" id="show-history">üìã Îß§Îß§Ïù¥Î†•</button>
                <!-- ÎØ∏Ï≤¥Í≤∞ Ï£ºÎ¨∏ÏùÄ Ìï≠ÏÉÅ ÌëúÏãúÎêòÎØÄÎ°ú Î≤ÑÌäº Ï†úÍ±∞ -->
                <button class="btn btn-action" id="volume-toggle">Í±∞ÎûòÎüâ</button>
                </div>
            </div>
            
            
            <!-- Ïù¥ÌèâÏÑ† ÏÑ§Ï†ï Î™®Îã¨ -->
            <div id="ma-settings-modal" class="modal">
                <div class="modal-content ma-modal-content">
                    <div class="modal-header">
                        <h3>Ïù¥ÌèâÏÑ† ÏÑ§Ï†ï</h3>
                        <button class="modal-close" id="close-ma-settings">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="ma-settings-grid">
                            <div class="ma-item">
                                <label>
                                    <input type="checkbox" id="ma20-toggle">
                                    <span class="ma-label">MA20</span>
                                    <span class="ma-color" style="background-color: #ff6b6b;"></span>
                                </label>
                            </div>
                            <div class="ma-item">
                                <label>
                                    <input type="checkbox" id="ma50-toggle">
                                    <span class="ma-label">MA50</span>
                                    <span class="ma-color" style="background-color: #4ecdc4;"></span>
                                </label>
                            </div>
                            <div class="ma-item">
                                <label>
                                    <input type="checkbox" id="ma100-toggle">
                                    <span class="ma-label">MA100</span>
                                    <span class="ma-color" style="background-color: #45b7d1;"></span>
                                </label>
                            </div>
                            <div class="ma-item">
                                <label>
                                    <input type="checkbox" id="ma200-toggle">
                                    <span class="ma-label">MA200</span>
                                    <span class="ma-color" style="background-color: #96ceb4;"></span>
                                </label>
                            </div>
                            <div class="ma-item">
                                <label>
                                    <input type="checkbox" id="ma300-toggle">
                                    <span class="ma-label">MA300</span>
                                    <span class="ma-color" style="background-color: #feca57;"></span>
                                </label>
                            </div>
                            <div class="ma-item">
                                <label>
                                    <input type="checkbox" id="ma500-toggle">
                                    <span class="ma-label">MA500</span>
                                    <span class="ma-color" style="background-color: #ff9ff3;"></span>
                                </label>
                            </div>
                            <div class="ma-item">
                                <label>
                                    <input type="checkbox" id="ma1000-toggle">
                                    <span class="ma-label">MA1000</span>
                                    <span class="ma-color" style="background-color: #54a0ff;"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" id="apply-ma-settings">Ï†ÅÏö©</button>
                        <button class="btn btn-secondary" id="cancel-ma-settings">Ï∑®ÏÜå</button>
                    </div>
                </div>
            </div>
            
        </div>

        <!-- ÎÑ§ Î≤àÏß∏ Ï§Ñ: Î©îÏù∏ Ï∞®Ìä∏ÏôÄ Î≥¥Ïú† ÏΩîÏù∏ + Î∂ÑÏÑù Ìå®ÎÑê -->
        <div class="chart-and-portfolio-section">
            <div class="chart-section">
                <!-- Main Price + Volume Chart (Í∞ÄÍ≤© + Í±∞ÎûòÎüâ) -->
                <div id="chart-container" style="width: 100%; height: 750px; background-color: #131722; margin-bottom: 5px;"></div>
                <!-- RSI Chart (ÎèÖÎ¶Ω Ìå®ÎÑê) -->
                <div id="rsi-container" style="width: 100%; height: 150px; background-color: #131722; margin-bottom: 5px; display: none;"></div>
                <!-- MACD Chart (ÎèÖÎ¶Ω Ìå®ÎÑê) -->
                <div id="macd-container" style="width: 100%; height: 150px; background-color: #131722; margin-bottom: 5px; display: none;"></div>
            </div>
            
            <!-- Î≥¥Ïú† ÏΩîÏù∏ ÏÑπÏÖò -->
            <div class="portfolio-section">
                <div class="portfolio-panel">
                    <div class="panel-header">
                        <h3>Î≥¥Ïú† ÏΩîÏù∏</h3>
                        <div class="holdings-controls">
                            <label class="toggle-label">
                                <input type="checkbox" id="hide-unsupported" checked>
                                <span class="toggle-text">Í±∞Îûò ÎØ∏ÏßÄÏõê Ïà®ÍπÄ</span>
                            </label>
                            <button class="btn btn-small" id="refresh-holdings">ÏÉàÎ°úÍ≥†Ïπ®</button>
                        </div>
                    </div>

                    <!-- KRW ÏûîÍ≥† ÏÑπÏÖò -->
                    <div class="holdings-krw-section" id="holdings-krw-section">
                        <div class="krw-label">üí∞ ÏõêÌôî ÏûîÍ≥†</div>
                        <div class="krw-details">
                            <div class="krw-item">
                                <span class="krw-item-label">ÏÇ¨Ïö©Í∞ÄÎä•:</span>
                                <span class="krw-item-value" id="krw-balance">0</span>
                            </div>
                            <div class="krw-item">
                                <span class="krw-item-label">Í±∞ÎûòÎåÄÍ∏∞:</span>
                                <span class="krw-item-value" id="krw-locked">0</span>
                            </div>
                            <div class="krw-item krw-total">
                                <span class="krw-item-label">Ï¥ù ÏûîÍ≥†:</span>
                                <span class="krw-item-value" id="krw-total">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏöîÏïΩ ÏÑπÏÖò -->
                    <div class="holdings-summary-section" id="holdings-summary-section">
                        <div class="summary-label">üìä Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏöîÏïΩ</div>
                        <div class="summary-details">
                            <div class="summary-row">
                                <div class="summary-item">
                                    <span class="summary-item-label">Ï¥ù ÏûêÏÇ∞:</span>
                                    <span class="summary-item-value" id="summary-total-value">0</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-item-label">ÏΩîÏù∏ Í∞ÄÏπò:</span>
                                    <span class="summary-item-value" id="summary-crypto-value">0</span>
                                </div>
                            </div>
                            <div class="summary-row">
                                <div class="summary-item">
                                    <span class="summary-item-label">ÌèâÍ∞ÄÏÜêÏùµ:</span>
                                    <span class="summary-item-value profit" id="summary-profit">0</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-item-label">ÏàòÏùµÎ•†:</span>
                                    <span class="summary-item-value profit" id="summary-profit-rate">0%</span>
                                </div>
                            </div>
                            <div class="summary-row">
                                <div class="summary-item">
                                    <span class="summary-item-label">Î≥¥Ïú† ÏΩîÏù∏:</span>
                                    <span class="summary-item-value" id="summary-coin-count">0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="holdings-header">
                        <div class="header-symbol">ÏΩîÏù∏</div>
                        <div class="header-avg-price">ÌèâÍ∑†Îã®Í∞Ä</div>
                        <div class="header-policy">Ï†ïÏ±Ö</div>
                        <div class="header-profit">ÏàòÏùµÎ•†</div>
                    </div>
                    <div class="holdings-list" id="holdings-list">
                        <div class="loading-text-small">Î°úÎî© Ï§ë...</div>
                    </div>
                </div>
            </div>

            <!-- ÏΩîÏù∏Î∂ÑÏÑù + ÏàòÎèôÏ£ºÎ¨∏ ÌÜµÌï© ÏÑπÏÖò -->
            <div class="analysis-orders-section">
                <!-- ÏΩîÏù∏Î∂ÑÏÑù Ìå®ÎÑê -->
                <div class="analysis-panel">
                    <div class="panel-header">
                        <h3>ÏΩîÏù∏Î∂ÑÏÑù</h3>
                    </div>

                    <!-- Í∞ÄÍ≤© Ï†ïÎ≥¥ -->
                    <div class="price-info">
                        <div class="section-header">üí∞ ÌòÑÏû¨ ÏΩîÏù∏</div>
                        <div class="coin-info-display">
                            <div class="coin-name" id="coin-name">Î¶¨Ìîå</div>
                            <div class="candle-type" id="candle-type">ÏùºÎ¥â</div>
                        </div>
                    </div>

                    <!-- Í∏∞Ïà†Ï†Å Î∂ÑÏÑù -->
                    <div class="technical-analysis">
                        <div class="section-header">üìä Í∏∞Ïà†Ï†Å Î∂ÑÏÑù</div>
                        <div class="rsi-analysis">
                            <span class="indicator-label">RSI:</span>
                            <span class="indicator-value" id="rsi-value">76.6</span>
                            <span class="indicator-status overbought" id="rsi-status">Í≥ºÎß§Ïàò</span>
                        </div>

                        <div class="ma-analysis">
                            <div class="ma-item">
                                <span class="ma-label">MA20:</span>
                                <span class="ma-value" id="ma20-value">163,081,100</span>
                            </div>
                            <div class="ma-item">
                                <span class="ma-label">MA50:</span>
                                <span class="ma-value" id="ma50-value">159,511,900</span>
                            </div>
                            <div class="ma-item">
                                <span class="ma-label">MA100:</span>
                                <span class="ma-value" id="ma100-value">158,700,070</span>
                            </div>
                            <div class="ma-item">
                                <span class="ma-label">MA200:</span>
                                <span class="ma-value" id="ma200-value">148,042,065</span>
                            </div>
                        </div>
                    </div>

                    <!-- Ïã§ÏãúÍ∞Ñ Î∂ÑÏÑù -->
                    <div class="trend-analysis">
                        <div class="section-header">üìà Ïã§ÏãúÍ∞Ñ Î∂ÑÏÑù</div>
                        <div class="trend-info">
                            <span class="trend-label">Ï∂îÏÑ∏:</span>
                            <span class="trend-value uptrend" id="trend-direction">ÏÉÅÏäπ</span>
                        </div>
                        <div class="volatility-info">
                            <span class="volatility-label">Î≥ÄÎèôÏÑ±:</span>
                            <span class="volatility-value high" id="volatility-level">ÎÜíÏùå</span>
                        </div>
                        <div class="support-resistance">
                            <div class="support">
                                <span class="sr-label">ÏßÄÏßÄ:</span>
                                <span class="sr-value" id="support-level">‚Ç©157,100,000</span>
                            </div>
                            <div class="resistance">
                                <span class="sr-label">Ï†ÄÌï≠:</span>
                                <span class="sr-value" id="resistance-level">‚Ç©174,995,000</span>
                            </div>
                        </div>
                        <div class="signal-info">
                            <span class="signal-label">Ïã†Ìò∏:</span>
                            <span class="signal-value" id="trading-signal">-</span>
                        </div>
                    </div>

                    <!-- ÏóÖÎç∞Ïù¥Ìä∏ ÏãúÍ∞Ñ -->
                    <div class="update-info">
                        <div class="update-time" id="update-time">2025-10-04 22:43:41</div>
                    </div>
                </div>

                <!-- ÏàòÎèôÏ£ºÎ¨∏ Ìå®ÎÑê -->
                <div class="manual-order-panel">
                    <div class="panel-header">
                        <h3>ÏàòÎèô Ï£ºÎ¨∏</h3>
                        <div class="current-coin-info" id="order-coin-info">
                            <span class="coin-symbol" id="order-coin-symbol">XRP</span>
                            <span class="current-price" id="order-current-price">850Ïõê</span>
                        </div>
                    </div>

                    <!-- Îß§Ïàò ÏÑπÏÖò -->
                    <div class="order-section buy-section">
                        <div class="order-section-title">
                            <span class="order-icon">üìà</span>
                            <span>Îß§Ïàò</span>
                        </div>
                        <div class="order-inputs">
                            <div class="order-input-group">
                                <label>Í∞ÄÍ≤© (Ïõê)</label>
                                <input type="number" id="buy-price" placeholder="Í∞ÄÍ≤© ÏûÖÎ†• (Ïõê)" step="1">
                            </div>
                            <div class="order-input-group">
                                <label>ÏàòÎüâ ÎπÑÏú® <span class="balance-info" id="buy-balance-info">ÏûîÏï°: 0Ïõê</span></label>
                                <div class="quantity-percentage-buttons">
                                    <button class="btn-percentage" data-side="buy" data-percent="10">10%</button>
                                    <button class="btn-percentage" data-side="buy" data-percent="25">25%</button>
                                    <button class="btn-percentage" data-side="buy" data-percent="50">50%</button>
                                    <button class="btn-percentage" data-side="buy" data-percent="100">100%</button>
                                </div>
                                <input type="number" id="buy-quantity" placeholder="ÏàòÎüâ ÏûÖÎ†•" step="0.00000001" min="0">
                            </div>
                            <div class="order-total">
                                <span>Ï¥ùÏï°:</span>
                                <span id="buy-total-amount">0Ïõê</span>
                            </div>
                        </div>
                        <button class="btn-order btn-buy" id="submit-buy-order">
                            <span class="btn-icon">üí∞</span>
                            <span>Îß§Ïàò Ï£ºÎ¨∏</span>
                        </button>
                    </div>

                    <!-- Îß§ÎèÑ ÏÑπÏÖò -->
                    <div class="order-section sell-section">
                        <div class="order-section-title">
                            <span class="order-icon">üìâ</span>
                            <span>Îß§ÎèÑ</span>
                        </div>
                        <div class="order-inputs">
                            <div class="order-input-group">
                                <label>Í∞ÄÍ≤© (Ïõê)</label>
                                <input type="number" id="sell-price" placeholder="Í∞ÄÍ≤© ÏûÖÎ†• (Ïõê)" step="1">
                            </div>
                            <div class="order-input-group">
                                <label>ÏàòÎüâ ÎπÑÏú® <span class="balance-info" id="sell-balance-info">Î≥¥Ïú†: 0Í∞ú</span></label>
                                <div class="quantity-percentage-buttons">
                                    <button class="btn-percentage" data-side="sell" data-percent="10">10%</button>
                                    <button class="btn-percentage" data-side="sell" data-percent="25">25%</button>
                                    <button class="btn-percentage" data-side="sell" data-percent="50">50%</button>
                                    <button class="btn-percentage" data-side="sell" data-percent="100">100%</button>
                                </div>
                                <input type="number" id="sell-quantity" placeholder="ÏàòÎüâ ÏûÖÎ†•" step="0.00000001" min="0">
                            </div>
                            <div class="order-total">
                                <span>Ï¥ùÏï°:</span>
                                <span id="sell-total-amount">0Ïõê</span>
                            </div>
                        </div>
                        <button class="btn-order btn-sell" id="submit-sell-order">
                            <span class="btn-icon">üí∏</span>
                            <span>Îß§ÎèÑ Ï£ºÎ¨∏</span>
                        </button>
                    </div>

                    <!-- Ï£ºÎ¨∏ ÎÇ¥Ïó≠ -->
                    <div class="order-history-section">
                        <div class="order-section-title">
                            <span class="order-icon">üìã</span>
                            <span>ÎØ∏Ï≤¥Í≤∞ Ï£ºÎ¨∏</span>
                            <button class="btn-refresh-orders" id="refresh-orders">üîÑ</button>
                        </div>
                        <div class="order-history-list" id="order-history-list">
                            <div class="empty-orders">Ï£ºÎ¨∏ ÎÇ¥Ïó≠Ïù¥ ÏóÜÏäµÎãàÎã§</div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Îß§Îß§Ïù¥Î†• Î™®Îã¨ -->
        <div id="history-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="trading-history-title">BTC Îß§Îß§Ïù¥Î†•</h2>
                    <button class="btn-close" id="close-history-modal">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="history-header">
                        <div class="header-type">Í±∞Îûò</div>
                        <div class="header-time">ÏãúÍ∞Ñ</div>
                    </div>
                    <div class="history-list" id="history-list">
                        <div class="loading-text-small">Î°úÎî© Ï§ë...</div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-small" id="refresh-history">ÏÉàÎ°úÍ≥†Ïπ®</button>
                    <button class="btn btn-small" id="close-history-btn">Îã´Í∏∞</button>
                </div>
            </div>
        </div>

        <!-- Í∑∏Î¶¨Í∏∞ Î™©Î°ù Î™®Îã¨ -->
        <div id="drawings-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Í∑∏Î¶¨Í∏∞ Î™©Î°ù</h2>
                    <button class="btn-close" id="close-drawings-modal">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="drawings-list" id="drawings-list">
                        <div class="empty-text-small">Í∑∏Î¶¨Í∏∞Í∞Ä ÏóÜÏäµÎãàÎã§</div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-small" id="refresh-drawings">ÏÉàÎ°úÍ≥†Ïπ®</button>
                    <button class="btn btn-small" id="close-drawings-btn">Îã´Í∏∞</button>
                </div>
            </div>
        </div>

        <!-- Ï†ïÏ±Ö ÏÑ§Ï†ï Î™®Îã¨ -->
        <!-- Î°úÎî© Ïò§Î≤ÑÎ†àÏù¥ -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="loading-spinner"></div>
            <div class="loading-text">Ï∞®Ìä∏ Î°úÎî© Ï§ë...</div>
        </div>

        <!-- Í∑∏Î¶¨Í∏∞ ÏïàÎÇ¥ Î©îÏãúÏßÄ -->
        <div id="drawing-instruction" style="display: none; position: fixed; top: 70px; left: 50%; transform: translateX(-50%); background: rgba(41, 98, 255, 0.95); color: white; padding: 12px 24px; border-radius: 8px; font-size: 14px; font-weight: 500; z-index: 10000; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
            <span id="drawing-instruction-text"></span>
            <span style="margin-left: 16px; opacity: 0.8; font-size: 12px;">(ESC to cancel)</span>
        </div>
    </div>
</body>
</html>